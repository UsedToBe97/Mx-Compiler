global main

section .data
	dq	6
string__0:
	db	112, 32, 99, 110, 102, 32, 0
	dq	1
string__1:
	db	32, 0
	dq	1
string__2:
	db	32, 0
	dq	1
string__3:
	db	32, 0

section .text
main:
	push	rbp
	mov		rbp, rsp
	push	rbx
	sub		rbp, 8
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	call	getInt
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	mov		rbx, rdi
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rdi, string__0
	call	print
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	mov		rdx, rbx
	imul	rdx, 2
	mov		rdi, rdx
	add		rdi, 1
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rdi, rdi
	call	toString
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rsi, string__1
	mov		rdi, rdi
	call	String_add
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		r8, rax
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rdi, rbx
	call	toString
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rsi, rdi
	mov		rdi, r8
	call	String_add
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rdi, rdi
	call	println
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	mov		r9, 1
	mov		r8, 0
_1_Label:
	cmp		r8, rbx
	jl		_2_Label
	jmp		_4_Label
_2_Label:
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rdi, r9
	call	toString
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rsi, string__2
	mov		rdi, rdi
	call	String_add
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		r10, rax
	lea		rdi, [r9 + 1]
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rdi, rdi
	call	toString
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rsi, rdi
	mov		rdi, r10
	call	String_add
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rsi, string__3
	mov		rdi, rdi
	call	String_add
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		r10, rax
	lea		rdi, [r9 + 2]
	mov		rdi, rdi
	neg		rdi
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rdi, rdi
	call	toString
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rsi, rdi
	mov		rdi, r10
	call	String_add
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	mov		rdi, rdi
	mov		rax, r8
	mov		rcx, 100000
	cqo
	idiv	ecx
	mov		rsi, rdx
	cmp		rsi, 0
	je		_5_Label
	jmp		_6_Label
_5_Label:
	push	r10
	push	rdi
	push	rsi
	push	r8
	push	r9
	mov		rdi, rdi
	call	println
	pop		r9
	pop		r8
	pop		rsi
	pop		rdi
	pop		r10
	mov		rdi, rax
	jmp		_6_Label
_6_Label:
	lea		rdi, [r9 + 2]
	mov		r9, rdi
	add		r8, 1
	jmp		_1_Label
_4_Label:
	mov		rax, 0
	jmp		_0_Label
_0_Label:
	add		rbp, 8
	pop		rbx
	mov		rsp, rbp
	pop		rbp
	ret	


;thanks for XZYY's inner-built function assembly code

section .data
intbuffer:
	dq 0
format1:
	db"%lld",0
format2:
	db"%lld ",10,0
format3:
	db"%s",0
format4:
	db"%s",10,0

section .bss
stringbuffer:
	resb 256

extern scanf
extern printf
extern puts
extern strlen
extern memcpy
extern sscanf
extern sprintf
extern malloc
extern strcmp

section .text
getInt:

	push rbp
	mov rbp,rsp
	mov rax,0
	mov rdi,format1
	mov rsi,intbuffer
	call scanf
	mov rax,[intbuffer]
	mov rsp,rbp
	pop rbp
	ret

printInt:
	push rbp
	mov rbp,rsp
	mov rsi,rdi
	mov rax,0
	mov rdi,format2
	call printf
	mov rsp,rbp
	pop rbp
	ret

Array_size:
	mov rax,[rdi-8]
	ret

print:
	push rbp
	mov rbp,rsp
	mov rax,0
	mov rsi,rdi
	mov rdi,format3
	call printf
	mov rsp,rbp
	pop rbp
	ret

println:

	call puts
	ret


transtring:

	push rbp
	mov rbp,rsp
	call strlen
	push rdi
	mov rdi,rax
	push rdi
	add rdi,9
	call malloc
	pop rdi
	mov [rax],rdi
	add rax,8
	mov rdx,rdi
	add rdx,1
	mov rdi,rax
	pop rsi
	sub rsp,8
	push rax
	call memcpy
	pop rax
	mov rsp,rbp
	pop rbp
	ret

getString:

	push rbp
	mov rbp,rsp
	mov rax,0
	mov rdi,format3
	mov rsi,stringbuffer
	call scanf
	mov rdi,stringbuffer
	call transtring
	mov rsp,rbp
	pop rbp
	ret

toString:

	push rbp
	mov rbp,rsp
	mov rdx,rdi
	mov rax,0
	mov rdi,stringbuffer
	mov rsi,format1
	call sprintf
	mov rdi,stringbuffer
	call transtring
	mov rsp,rbp
	pop rbp
	ret

String_length:

	mov rax,[rdi-8]
	ret

String_substring:

	push rbp
	mov rbp,rsp
	push rdi
	push rsi
	mov rdi,rdx
	sub rdi,rsi
	add rdi,1
	push rdi
	add rdi,9
	call malloc
	pop rdx
	mov [rax],rdx
	add rax,8
	pop rsi
	pop rdi
	add rsi,rdi
	mov rdi,rax
	push rdx
	push rax
	call memcpy
	pop rax
	pop rdx
	mov qword[rax+rdx],0
	mov rsp,rbp
	pop rbp
	ret

String_parseInt:

	mov rsi,format1
	mov rdx,intbuffer
	mov rax,0
	call sscanf
	mov rax,[intbuffer]
	ret

String_ord:

	mov rax,0
	mov al,byte[rdi+rsi]
	ret

String_add:

	push rbp
	mov rbp,rsp
	push rsi
	mov rsi,rdi
	mov rdi,stringbuffer
	mov rdx,[rsi-8]
	push rdx
	call memcpy
	pop rdi
	pop rsi
	add rdi,stringbuffer
	mov rdx,[rsi-8]
	add rdx,1
	call memcpy
	mov rdi,stringbuffer
	call transtring
	mov rsp,rbp
	pop rbp
	ret

String_lt:

	push rbp
	mov rbp,rsp
	call strcmp
	mov rdi,0
	cmp rax,0
	setl dil
	mov rax,rdi
	mov rsp,rbp
	pop rbp
	ret

String_le:

	push rbp
	mov rbp,rsp
	call strcmp
	mov rdi,0
	cmp rax,0
	setle dil
	mov rax,rdi
	mov rsp,rbp
	pop rbp
	ret

String_gt:

	push rbp
	mov rbp,rsp
	call strcmp
	mov rdi,0
	cmp rax,0
	setg dil
	mov rax,rdi
	mov rsp,rbp
	pop rbp
	ret

String_ge:

	push rbp
	mov rbp,rsp
	call strcmp
	mov rdi,0
	cmp rax,0
	setge dil
	mov rax,rdi
	mov rsp,rbp
	pop rbp
	ret

String_eq:

	push rbp
	mov rbp,rsp
	call strcmp
	mov rdi,0
	cmp rax,0
	sete dil
	mov rax,rdi
	mov rsp,rbp
	pop rbp
	ret

String_ne:

	push rbp
	mov rbp,rsp
	call strcmp
	mov rdi,0
	cmp rax,0
	setne dil
	mov rax,rdi
	mov rsp,rbp
	pop rbp
	ret